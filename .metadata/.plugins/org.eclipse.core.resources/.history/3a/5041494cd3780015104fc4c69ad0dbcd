package com.moblima.project.controller;

import java.io.IOException;
import java.util.ArrayList;

import org.json.JSONArray;
import org.json.JSONException;

import com.moblima.project.model.Model;
import com.moblima.project.model.Movie;

public class MovieManager extends Manager {
	
	private static final String path = "data/movie.json";
	
	private ArrayList<Movie> mMovies;
	
	public MovieManager() {
		load();
	}

	@Override
	protected void load() throws IOException, JSONException {
		JSONArray array = this.getData(path);
		mMovies = new ArrayList<>();
		idCounter = 0;
		Movie movie;
		
		for(int i=0;i<array.length();i++){
			movie = new Movie(array.getJSONObject(i));
			mMovies.add(movie);
			idCounter = movie.getId();
		}
	}

	@Override
	public boolean create(Model instance) {
		
		return false;
	}

	@Override
	public boolean update(Model instance) {
		
		return false;
	}

	@Override
	public boolean delete(Model instance) {
		
		return false;
	}

	@Override
	public Model getInstanceById(int id) {
		for(Movie movie : mMovies){
			if(movie.getId() == id)
				return movie;
		}
		return null;
	}
}
